<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CityU LearnSphere - AI-Driven Personal Knowledge Management Platform</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #FF8C00 0%, #8B0000 100%);
            min-height: 100vh; color: #333;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header {
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border-radius: 15px; padding: 20px; margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); text-align: center;
        }
        .logo { font-size: 2.5rem; font-weight: bold; color: #8B0000; margin-bottom: 10px; }
        .subtitle { font-size: 1.2rem; color: #666; margin-bottom: 20px; }
        .nav-buttons { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .nav-btn {
            background: #DAA520; color: white; border: none; padding: 12px 24px;
            border-radius: 25px; cursor: pointer; font-size: 1rem;
            transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(218, 165, 32, 0.3);
        }
        .nav-btn:hover, .nav-btn.active {
            background: #B8860B; transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(184, 134, 11, 0.4);
        }
        .content-area {
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border-radius: 15px; padding: 30px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            min-height: 500px;
        }
        .section { display: none; }
        .section.active { display: block; animation: fadeIn 0.5s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px; }
        .feature-card {
            background: linear-gradient(135deg, #FFF8DC 0%, #FFE4E1 100%);
            border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease; cursor: pointer;
        }
        .feature-card:hover { transform: translateY(-5px); }
        .feature-icon { font-size: 2.5rem; margin-bottom: 15px; color: #8B0000; }
        .feature-title { font-size: 1.3rem; font-weight: bold; color: #8B0000; margin-bottom: 10px; }
        .feature-desc { color: #666; line-height: 1.6; }
        .login-form { max-width: 400px; margin: 0 auto; }
        .form-group { margin-bottom: 20px; }
        .form-label { display: block; margin-bottom: 8px; font-weight: 600; color: #374151; }
        .form-input {
            width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb;
            border-radius: 8px; font-size: 1rem; transition: border-color 0.3s ease;
        }
        .form-input:focus { outline: none; border-color: #8B0000; }
        .btn-primary {
            width: 100%; background: #DAA520; color: white; border: none;
            padding: 14px; border-radius: 8px; font-size: 1.1rem; font-weight: 600;
            cursor: pointer; transition: background 0.3s ease;
        }
        .btn-primary:hover { background: #B8860B; }
        .chat-container { height: 400px; border: 2px solid #e5e7eb; border-radius: 12px; display: flex; flex-direction: column; }
        .chat-messages { flex: 1; padding: 20px; overflow-y: auto; background: #f8fafc; }
        .chat-input-area { padding: 15px; border-top: 1px solid #e5e7eb; display: flex; gap: 10px; }
        .chat-input { flex: 1; padding: 10px 15px; border: 1px solid #d1d5db; border-radius: 25px; outline: none; }
        .chat-send { background: #DAA520; color: white; border: none; padding: 10px 20px; border-radius: 25px; cursor: pointer; }
        .chat-send:hover { background: #B8860B; }
        .message { margin-bottom: 15px; padding: 12px 16px; border-radius: 12px; max-width: 80%; }
        .message.user { background: #DAA520; color: white; margin-left: auto; }
        .message.ai { background: #e2e8f0; color: #374151; }
        .hk-culture {
            background: linear-gradient(135deg, #FF6347 0%, #8B0000 100%);
            border-radius: 12px; padding: 20px; margin-top: 20px;
        }
        .culture-title { font-size: 1.5rem; font-weight: bold; color: #92400e; margin-bottom: 15px; }
        .culture-content { color: #451a03; line-height: 1.6; }
        .lang-switch {
            position: fixed; top: 20px; right: 20px; background: rgba(255, 255, 255, 0.9);
            border: none; padding: 10px 15px; border-radius: 20px; cursor: pointer;
            font-weight: bold; color: #8B0000;
        }
        .api-config {
            background: #FFF8DC; border: 2px solid #8B0000; border-radius: 12px;
            padding: 20px; margin-bottom: 20px;
        }
        .api-status { 
            display: inline-block; padding: 4px 12px; border-radius: 20px; 
            font-size: 0.9rem; font-weight: bold; margin-left: 10px;
        }
        .api-status.connected { background: #dcfce7; color: #166534; }
        .api-status.disconnected { background: #fef2f2; color: #dc2626; }
        .loading { opacity: 0.6; pointer-events: none; }
        @media (max-width: 768px) {
            .container { padding: 10px; }
            .nav-buttons { flex-direction: column; align-items: center; }
            .nav-btn { width: 200px; }
            .feature-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <button class="lang-switch" onclick="toggleLanguage()">EN/ä¸­æ–‡</button>
    
    <div class="container">
        <div class="header">
            <div class="logo">ğŸ“ CityU LearnSphere</div>
            <div class="subtitle" id="subtitle">AI-Driven Personal Knowledge Management & Research Collaboration Platform</div>
            
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="showSection('home')" data-en="ğŸ  Home" data-zh="ğŸ  é¦–é¡µ">ğŸ  Home</button>
                <button class="nav-btn" onclick="showSection('api-config')" data-en="âš™ï¸ API Config" data-zh="âš™ï¸ APIé…ç½®">âš™ï¸ API Config</button>
                <button class="nav-btn" onclick="showSection('ai-chat')" data-en="ğŸ¤– AI Assistant" data-zh="ğŸ¤– AIåŠ©æ‰‹">ğŸ¤– AI Assistant</button>
                <button class="nav-btn" onclick="showSection('documents')" data-en="ğŸ“š Documents" data-zh="ğŸ“š æ–‡æ¡£ç®¡ç†">ğŸ“š Documents</button>
                <button class="nav-btn" onclick="showSection('research')" data-en="ğŸ”¬ Research" data-zh="ğŸ”¬ ç§‘ç ”åä½œ">ğŸ”¬ Research</button>
                <button class="nav-btn" onclick="showSection('campus')" data-en="ğŸ›ï¸ Virtual Campus" data-zh="ğŸ›ï¸ è™šæ‹Ÿæ ¡å›­">ğŸ›ï¸ Virtual Campus</button>
            </div>
        </div>

        <div class="content-area">
            <!-- Home -->
            <div id="home" class="section active">
                <h1 style="color: #8B0000; text-align: center; margin-bottom: 30px;" data-en="Welcome to CityU LearnSphere" data-zh="æ¬¢è¿æ¥åˆ° CityU LearnSphere">Welcome to CityU LearnSphere</h1>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¤–</div>
                        <div class="feature-title" data-en="DeepSeek AI Integration" data-zh="DeepSeek AIé›†æˆ">DeepSeek AI Integration</div>
                        <div class="feature-desc" data-en="Integrated with DeepSeek API, providing powerful AI conversation and learning assistance. Supports personalized learning suggestions and intelligent Q&A." data-zh="é›†æˆDeepSeek APIï¼Œæä¾›å¼ºå¤§çš„AIå¯¹è¯å’Œå­¦ä¹ è¾…åŠ©åŠŸèƒ½ã€‚æ”¯æŒä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®å’Œæ™ºèƒ½é—®ç­”ã€‚">Integrated with DeepSeek API, providing powerful AI conversation and learning assistance. Supports personalized learning suggestions and intelligent Q&A.</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“š</div>
                        <div class="feature-title" data-en="Smart Document Management" data-zh="æ™ºèƒ½æ–‡æ¡£ç®¡ç†">Smart Document Management</div>
                        <div class="feature-desc" data-en="Supports Markdown editing and bidirectional linking for networked knowledge management." data-zh="æ”¯æŒMarkdownç¼–è¾‘ï¼ŒåŒå‘é“¾æ¥åŠŸèƒ½ï¼Œè®©æ‚¨çš„çŸ¥è¯†ç½‘ç»œåŒ–ç®¡ç†ã€‚">Supports Markdown editing and bidirectional linking for networked knowledge management.</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”¬</div>
                        <div class="feature-title" data-en="Research Collaboration Space" data-zh="ç§‘ç ”åä½œç©ºé—´">Research Collaboration Space</div>
                        <div class="feature-desc" data-en="Project management, literature management, and team collaboration for more efficient research work." data-zh="é¡¹ç›®ç®¡ç†ã€æ–‡çŒ®ç®¡ç†ã€å›¢é˜Ÿåä½œï¼Œè®©ç§‘ç ”å·¥ä½œæ›´åŠ é«˜æ•ˆã€‚">Project management, literature management, and team collaboration for more efficient research work.</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ›ï¸</div>
                        <div class="feature-title" data-en="Virtual Campus Experience" data-zh="è™šæ‹Ÿæ ¡å›­ä½“éªŒ">Virtual Campus Experience</div>
                        <div class="feature-desc" data-en="3D virtual CityU campus tour, immersive experience of City University of Hong Kong." data-zh="3Dè™šæ‹ŸCityUæ ¡å›­å¯¼è§ˆï¼Œæ²‰æµ¸å¼ä½“éªŒé¦™æ¸¯åŸå¸‚å¤§å­¦ã€‚">3D virtual CityU campus tour, immersive experience of City University of Hong Kong.</div>
                    </div>
                </div>

                <div class="hk-culture">
                    <div class="culture-title" data-en="ğŸ™ï¸ Hong Kong Cultural Features" data-zh="ğŸ™ï¸ é¦™æ¸¯æ–‡åŒ–ç‰¹è‰²">ğŸ™ï¸ Hong Kong Cultural Features</div>
                    <div class="culture-content" data-en="CityU LearnSphere deeply integrates Hong Kong local culture, from the brilliant night view of Victoria Harbour to the wisdom inheritance of traditional festivals, creating a unique learning experience for you. Here, Eastern and Western cultures blend, tradition and modernity coexist." data-zh="CityU LearnSphere æ·±åº¦èåˆé¦™æ¸¯æœ¬åœ°æ–‡åŒ–ï¼Œä»ç»´å¤šåˆ©äºšæ¸¯çš„ç’€ç’¨å¤œæ™¯åˆ°ä¼ ç»ŸèŠ‚åº†çš„æ™ºæ…§ä¼ æ‰¿ï¼Œä¸ºæ‚¨æ‰“é€ ç‹¬ç‰¹çš„å­¦ä¹ ä½“éªŒã€‚åœ¨è¿™é‡Œï¼Œä¸œè¥¿æ–¹æ–‡åŒ–äº¤èï¼Œä¼ ç»Ÿä¸ç°ä»£å¹¶å­˜ã€‚">
                        CityU LearnSphere deeply integrates Hong Kong local culture, from the brilliant night view of Victoria Harbour to the wisdom inheritance of traditional festivals,
                        creating a unique learning experience for you. Here, Eastern and Western cultures blend, tradition and modernity coexist.
                    </div>
                </div>
            </div>

            <!-- API Configuration -->
            <div id="api-config" class="section">
                <h2 style="color: #8B0000; margin-bottom: 20px;" data-en="âš™ï¸ DeepSeek API Configuration" data-zh="âš™ï¸ DeepSeek API é…ç½®">âš™ï¸ DeepSeek API Configuration</h2>
                
                <div class="api-config">
                    <h3 style="color: #8B0000; margin-bottom: 15px;">
                        <span data-en="ğŸ”— API Connection Status" data-zh="ğŸ”— APIè¿æ¥çŠ¶æ€">ğŸ”— API Connection Status</span>
                        <span id="apiStatus" class="api-status disconnected" data-en="Not Connected" data-zh="æœªè¿æ¥">Not Connected</span>
                    </h3>
                    
                    <div class="form-group">
                        <label class="form-label">DeepSeek API Key</label>
                        <input type="password" id="apiKey" class="form-input" 
                               data-placeholder-en="Enter your DeepSeek API Key (sk-xxx...)" 
                               data-placeholder-zh="è¯·è¾“å…¥æ‚¨çš„DeepSeek API Key (sk-xxx...)"
                               placeholder="Enter your DeepSeek API Key (sk-xxx...)">
                        <small style="color: #666; margin-top: 5px; display: block;">
                            <span data-en="Get API Key: " data-zh="è·å–API Key: ">Get API Key: </span><a href="https://platform.deepseek.com/api_keys" target="_blank" style="color: #8B0000;">https://platform.deepseek.com/api_keys</a>
                        </small>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" data-en="API Base URL (Optional)" data-zh="API Base URL (å¯é€‰)">API Base URL (Optional)</label>
                        <input type="text" id="apiBaseUrl" class="form-input" 
                               value="https://api.deepseek.com/v1"
                               placeholder="https://api.deepseek.com/v1">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" data-en="Model Selection" data-zh="æ¨¡å‹é€‰æ‹©">Model Selection</label>
                        <select id="modelSelect" class="form-input">
                            <option value="deepseek-chat" data-en="deepseek-chat (Recommended)" data-zh="deepseek-chat (æ¨è)">deepseek-chat (Recommended)</option>
                            <option value="deepseek-coder" data-en="deepseek-coder (For Programming)" data-zh="deepseek-coder (ç¼–ç¨‹ä¸“ç”¨)">deepseek-coder (For Programming)</option>
                        </select>
                    </div>
                    
                    <button class="btn-primary" onclick="testApiConnection()" data-en="Test Connection" data-zh="æµ‹è¯•è¿æ¥">Test Connection</button>
                </div>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”‘</div>
                        <div class="feature-title" data-en="How to Get API Key" data-zh="å¦‚ä½•è·å–API Key">How to Get API Key</div>
                        <div class="feature-desc" data-en="1. Visit DeepSeek Platform<br>2. Register and login to your account<br>3. Go to API Keys page<br>4. Create a new API Key<br>5. Copy and paste to the input field above" data-zh="1. è®¿é—® DeepSeekå¹³å°<br>2. æ³¨å†Œå¹¶ç™»å½•è´¦æˆ·<br>3. è¿›å…¥API Keysé¡µé¢<br>4. åˆ›å»ºæ–°çš„API Key<br>5. å¤åˆ¶å¹¶ç²˜è´´åˆ°ä¸Šæ–¹è¾“å…¥æ¡†">
                            1. Visit <a href="https://platform.deepseek.com" target="_blank" style="color: #8B0000;">DeepSeek Platform</a><br>
                            2. Register and login to your account<br>
                            3. Go to API Keys page<br>
                            4. Create a new API Key<br>
                            5. Copy and paste to the input field above
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ’¡</div>
                        <div class="feature-title" data-en="Usage Instructions" data-zh="ä½¿ç”¨è¯´æ˜">Usage Instructions</div>
                        <div class="feature-desc" data-en="â€¢ API Key is securely stored in local browser<br>â€¢ Supports custom API Base URL<br>â€¢ Choose different AI models<br>â€¢ Test connection to ensure API works properly" data-zh="â€¢ API Keyä¼šå®‰å…¨å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­<br>â€¢ æ”¯æŒè‡ªå®šä¹‰API Base URL<br>â€¢ å¯é€‰æ‹©ä¸åŒçš„AIæ¨¡å‹<br>â€¢ æµ‹è¯•è¿æ¥ç¡®ä¿APIæ­£å¸¸å·¥ä½œ">
                            â€¢ API Key is securely stored in local browser<br>
                            â€¢ Supports custom API Base URL<br>
                            â€¢ Choose different AI models<br>
                            â€¢ Test connection to ensure API works properly
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Assistant -->
            <div id="ai-chat" class="section">
                <h2 style="color: #8B0000; margin-bottom: 20px;">
                    <span data-en="ğŸ¤– DeepSeek AI Learning Assistant" data-zh="ğŸ¤– DeepSeek AIå­¦ä¹ åŠ©æ‰‹">ğŸ¤– DeepSeek AI Learning Assistant</span>
                    <span id="chatApiStatus" class="api-status disconnected" data-en="API Not Configured" data-zh="APIæœªé…ç½®">API Not Configured</span>
                </h2>
                
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai">
                            <strong>DeepSeek AI:</strong><span data-en="Hello! I'm an AI learning assistant based on DeepSeek API. Please first set up your API Key in the 'API Configuration' page, then I can provide you with:<br>â€¢ Personalized learning suggestions and planning<br>â€¢ Academic Q&A and discussions<br>â€¢ Research methodology guidance<br>â€¢ Hong Kong cultural knowledge<br>â€¢ CityU course and resource recommendations<br><br>After configuration, please tell me what help you need?" data-zh="æ‚¨å¥½ï¼æˆ‘æ˜¯åŸºäºDeepSeek APIçš„AIå­¦ä¹ åŠ©æ‰‹ã€‚è¯·å…ˆåœ¨'APIé…ç½®'é¡µé¢è®¾ç½®æ‚¨çš„API Keyï¼Œç„¶åæˆ‘å°±å¯ä»¥ä¸ºæ‚¨æä¾›ï¼š<br>â€¢ ä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®å’Œè§„åˆ’<br>â€¢ å­¦æœ¯é—®é¢˜è§£ç­”å’Œè®¨è®º<br>â€¢ ç§‘ç ”æ–¹æ³•æŒ‡å¯¼<br>â€¢ é¦™æ¸¯æ–‡åŒ–ç›¸å…³çŸ¥è¯†<br>â€¢ CityUè¯¾ç¨‹å’Œèµ„æºæ¨è<br><br>é…ç½®å®Œæˆåï¼Œè¯·å‘Šè¯‰æˆ‘æ‚¨éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼Ÿ">Hello! I'm an AI learning assistant based on DeepSeek API. Please first set up your API Key in the "API Configuration" page, then I can provide you with:<br>
                            â€¢ Personalized learning suggestions and planning<br>
                            â€¢ Academic Q&A and discussions<br>
                            â€¢ Research methodology guidance<br>
                            â€¢ Hong Kong cultural knowledge<br>
                            â€¢ CityU course and resource recommendations<br><br>
                            After configuration, please tell me what help you need?</span>
                        </div>
                    </div>
                    
                    <div class="chat-input-area">
                        <input type="text" class="chat-input" id="chatInput" 
                               data-placeholder-en="Enter your question... (API Key required)" 
                               data-placeholder-zh="è¾“å…¥æ‚¨çš„é—®é¢˜... (éœ€è¦å…ˆé…ç½®API Key)"
                               placeholder="Enter your question... (API Key required)" 
                               onkeypress="handleChatKeyPress(event)">
                        <button class="chat-send" onclick="sendMessage()" data-en="Send" data-zh="å‘é€">Send</button>
                    </div>
                </div>
                
                <div style="margin-top: 15px; padding: 10px; background: #FFF8DC; border-radius: 8px; font-size: 0.9rem; color: #8B0000;">
                    ğŸ’¡ <strong><span data-en="Tip:" data-zh="æç¤ºï¼š">Tip:</span></strong><span data-en="You can ask about CityU courses, Hong Kong culture, learning methods, research guidance, and any other questions. AI will provide personalized suggestions based on your needs." data-zh="æ‚¨å¯ä»¥è¯¢é—®å…³äºCityUè¯¾ç¨‹ã€é¦™æ¸¯æ–‡åŒ–ã€å­¦ä¹ æ–¹æ³•ã€ç§‘ç ”æŒ‡å¯¼ç­‰ä»»ä½•é—®é¢˜ã€‚AIä¼šæ ¹æ®æ‚¨çš„éœ€æ±‚æä¾›ä¸ªæ€§åŒ–å»ºè®®ã€‚">You can ask about CityU courses, Hong Kong culture, learning methods, research guidance, and any other questions. AI will provide personalized suggestions based on your needs.</span>
                </div>
            </div>

            <!-- Document Management -->
            <div id="documents" class="section">
                <h2 style="color: #8B0000; margin-bottom: 20px;" data-en="ğŸ“š Document Management Center" data-zh="ğŸ“š æ–‡æ¡£ç®¡ç†ä¸­å¿ƒ">ğŸ“š Document Management Center</h2>
                
                <div style="margin-bottom: 20px;">
                    <button class="nav-btn" onclick="createNewDoc()" data-en="+ New Document" data-zh="+ æ–°å»ºæ–‡æ¡£">+ New Document</button>
                    <button class="nav-btn" style="margin-left: 10px;" onclick="aiSuggestDoc()" data-en="ğŸ¤– AI Recommend Documents" data-zh="ğŸ¤– AIæ¨èæ–‡æ¡£">ğŸ¤– AI Recommend Documents</button>
                </div>
                
                <div class="feature-grid">
                    <div class="feature-card" onclick="openDocument('Machine Learning Basics')">
                        <div class="feature-title" data-en="ğŸ“– Machine Learning Basics Notes" data-zh="ğŸ“– æœºå™¨å­¦ä¹ åŸºç¡€ç¬”è®°">ğŸ“– Machine Learning Basics Notes</div>
                        <div class="feature-desc" data-en="Core concepts of deep learning and neural networks. Contains [[Linear Regression]] and [[Decision Tree]] analysis..." data-zh="æ·±åº¦å­¦ä¹ ã€ç¥ç»ç½‘ç»œç­‰æ ¸å¿ƒæ¦‚å¿µã€‚åŒ…å«[[çº¿æ€§å›å½’]]å’Œ[[å†³ç­–æ ‘]]åˆ†æ...">Core concepts of deep learning and neural networks. Contains [[Linear Regression]] and [[Decision Tree]] analysis...</div>
                    </div>
                    
                    <div class="feature-card" onclick="openDocument('Hong Kong History & Culture')">
                        <div class="feature-title" data-en="ğŸ® Hong Kong History & Culture Research" data-zh="ğŸ® é¦™æ¸¯å†å²æ–‡åŒ–ç ”ç©¶">ğŸ® Hong Kong History & Culture Research</div>
                        <div class="feature-desc" data-en="Historical changes from opening port to handover. Exploring the impact of [[East-West Cultural Integration]]..." data-zh="ä»å¼€åŸ åˆ°å›å½’çš„å†å²å˜è¿ã€‚æ¢è®¨[[ä¸œè¥¿æ–‡åŒ–äº¤è]]çš„å½±å“...">Historical changes from opening port to handover. Exploring the impact of [[East-West Cultural Integration]]...</div>
                    </div>
                    
                    <div class="feature-card" onclick="openDocument('CityU Course Planning')">
                        <div class="feature-title" data-en="ğŸ“ CityU Course Learning Plan" data-zh="ğŸ“ CityUè¯¾ç¨‹å­¦ä¹ è§„åˆ’">ğŸ“ CityU Course Learning Plan</div>
                        <div class="feature-desc" data-en="Computer Science major course arrangement, AI-assisted personalized learning path..." data-zh="è®¡ç®—æœºç§‘å­¦ä¸“ä¸šè¯¾ç¨‹å®‰æ’ï¼ŒAIè¾…åŠ©ç”Ÿæˆçš„ä¸ªæ€§åŒ–å­¦ä¹ è·¯å¾„...">Computer Science major course arrangement, AI-assisted personalized learning path...</div>
                    </div>
                </div>
            </div>

            <!-- Research Collaboration -->
            <div id="research" class="section">
                <h2 style="color: #8B0000; margin-bottom: 20px;" data-en="ğŸ”¬ Research Collaboration Space" data-zh="ğŸ”¬ ç§‘ç ”åä½œç©ºé—´">ğŸ”¬ Research Collaboration Space</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“‹</div>
                        <div class="feature-title" data-en="AI-Assisted Project Management" data-zh="AIè¾…åŠ©é¡¹ç›®ç®¡ç†">AI-Assisted Project Management</div>
                        <div class="feature-desc">
                            <strong data-en="Current Projects:" data-zh="å½“å‰é¡¹ç›®ï¼š">Current Projects:</strong><br>
                            <span data-en="â€¢ Smart City Data Analysis (AI Suggestion: In Progress)<br>â€¢ Hong Kong Cultural Heritage Digitization (AI Suggestion: Planning)" data-zh="â€¢ æ™ºæ…§åŸå¸‚æ•°æ®åˆ†æ (AIå»ºè®®: è¿›è¡Œä¸­)<br>â€¢ é¦™æ¸¯æ–‡åŒ–æ•°å­—åŒ–ä¿æŠ¤ (AIå»ºè®®: è§„åˆ’ä¸­)">â€¢ Smart City Data Analysis (AI Suggestion: In Progress)<br>â€¢ Hong Kong Cultural Heritage Digitization (AI Suggestion: Planning)</span><br>
                            <button class="nav-btn" style="margin-top: 10px; font-size: 0.9rem;" onclick="getAIProjectAdvice()" data-en="ğŸ¤– Get AI Advice" data-zh="ğŸ¤– è·å–AIå»ºè®®">ğŸ¤– Get AI Advice</button>
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“š</div>
                        <div class="feature-title" data-en="Smart Literature Recommendations" data-zh="æ™ºèƒ½æ–‡çŒ®æ¨è">Smart Literature Recommendations</div>
                        <div class="feature-desc">
                            <strong data-en="AI Recommended Literature:" data-zh="AIæ¨èæ–‡çŒ®ï¼š">AI Recommended Literature:</strong><br>
                            â€¢ "Deep Learning in Smart Cities"<br>
                            â€¢ "Cultural Heritage Digitization"<br>
                            <button class="nav-btn" style="margin-top: 10px; font-size: 0.9rem;" onclick="getAILiteratureAdvice()" data-en="ğŸ¤– More Recommendations" data-zh="ğŸ¤– æ›´å¤šæ¨è">ğŸ¤– More Recommendations</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Virtual Campus -->
            <div id="campus" class="section">
                <h2 style="color: #8B0000; margin-bottom: 20px;" data-en="ğŸ›ï¸ CityU Virtual Campus Tour" data-zh="ğŸ›ï¸ CityUè™šæ‹Ÿæ ¡å›­å¯¼è§ˆ">ğŸ›ï¸ CityU Virtual Campus Tour</h2>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ¢</div>
                        <div class="feature-title" data-en="Shaw Creative Media Centre" data-zh="é‚µé€¸å¤«åˆ›æ„åª’ä½“ä¸­å¿ƒ">Shaw Creative Media Centre</div>
                        <div class="feature-desc" data-en="CityU's iconic building, integrating art and technology, reflecting Hong Kong's creative city characteristics." data-zh="CityUæ ‡å¿—æ€§å»ºç­‘ï¼Œèåˆè‰ºæœ¯ä¸ç§‘æŠ€ï¼Œä½“ç°é¦™æ¸¯åˆ›æ„éƒ½å¸‚ç‰¹è‰²ã€‚">CityU's iconic building, integrating art and technology, reflecting Hong Kong's creative city characteristics.</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“š</div>
                        <div class="feature-title" data-en="Run Run Shaw Library" data-zh="é‚µé€¸å¤«å›¾ä¹¦é¦†">Run Run Shaw Library</div>
                        <div class="feature-desc" data-en="Modern academic library with 24-hour open learning spaces." data-zh="ç°ä»£åŒ–å­¦æœ¯å›¾ä¹¦é¦†ï¼Œ24å°æ—¶å¼€æ”¾çš„å­¦ä¹ ç©ºé—´ã€‚">Modern academic library with 24-hour open learning spaces.</div>
                    </div>
                </div>
                
                <div class="hk-culture">
                    <div class="culture-title" data-en="ğŸŒƒ AI Tour Guide" data-zh="ğŸŒƒ AIå¯¼è§ˆåŠ©æ‰‹">ğŸŒƒ AI Tour Guide</div>
                    <div class="culture-content">
                        <button class="nav-btn" onclick="getAICampusTour()" data-en="ğŸ¤– Get AI Campus Tour" data-zh="ğŸ¤– è·å–AIæ ¡å›­å¯¼è§ˆ">ğŸ¤– Get AI Campus Tour</button>
                        <p style="margin-top: 10px;" data-en="Let DeepSeek AI introduce you to CityU campus history, architectural features, and academic atmosphere, providing personalized campus experience suggestions." data-zh="è®©DeepSeek AIä¸ºæ‚¨ä»‹ç»CityUæ ¡å›­çš„å†å²ã€å»ºç­‘ç‰¹è‰²å’Œå­¦æœ¯æ°›å›´ï¼Œæä¾›ä¸ªæ€§åŒ–çš„æ ¡å›­ä½“éªŒå»ºè®®ã€‚">Let DeepSeek AI introduce you to CityU campus history, architectural features, and academic atmosphere, providing personalized campus experience suggestions.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let apiKey = localStorage.getItem('deepseek_api_key') || 'sk-8e5e3794f9724c29baeed56509a06edc';
        let apiBaseUrl = localStorage.getItem('deepseek_base_url') || 'https://api.deepseek.com/v1';
        let selectedModel = localStorage.getItem('deepseek_model') || 'deepseek-chat';
        let isApiConnected = false;
        let currentLanguage = localStorage.getItem('language') || 'en';

        // Language translations
        const translations = {
            en: {
                subtitle: 'AI-Driven Personal Knowledge Management & Research Collaboration Platform',
                connected: 'Connected',
                notConnected: 'Not Connected',
                notTested: 'Not Tested',
                notConfigured: 'Not Configured',
                apiConnected: 'API Connected',
                apiNotTested: 'API Not Tested',
                apiNotConfigured: 'API Not Configured',
                enterQuestion: 'Enter your question...',
                configureFirst: 'Please configure API Key first...',
                testing: 'Testing...',
                testConnection: 'Test Connection',
                send: 'Send',
                thinking: 'Thinking...',
                you: 'You:',
                deepseekAI: 'DeepSeek AI:',
                pleaseEnterApiKey: 'Please enter API Key first',
                apiConnectionSuccessful: 'API connection successful!',
                apiConnectionFailed: 'API connection failed:',
                checkApiKey: 'Please check API Key and network connection.',
                pleaseConfigureApiKey: 'Please configure your DeepSeek API Key in the "API Configuration" page first',
                aiAnalyzing: 'AI is analyzing your learning needs and recommending relevant documents...\n\n(In actual application, this would call DeepSeek API to generate personalized document suggestions)',
                aiProjectAdvice: 'AI Project Advice:\n\nBased on current progress, I suggest you:\n1. Improve data collection plan\n2. Strengthen team collaboration\n3. Follow latest research trends\n\n(In actual application, this would call DeepSeek API)',
                aiLiteratureRecommendations: 'AI Literature Recommendations:\n\nBased on your research direction, I recommend:\nâ€¢ "AI in Urban Planning" (2024)\nâ€¢ "Smart City Technologies" (2024)\n\n(In actual application, this would call DeepSeek API)',
                aiCampusTour: 'AI Campus Tour:\n\nWelcome to City University of Hong Kong! Let me introduce you to:\n\nğŸ¢ Shaw Creative Media Centre is our iconic building...\nğŸ“š The library has rich academic resources...\n\n(In actual application, this would call DeepSeek API for detailed introduction)',
                enterDocumentTitle: 'Please enter document title:',
                documentCreated: 'Document "{title}" created successfully!',
                openingDocument: 'Opening document "{title}" - In actual application, this would display Markdown editor',
                systemPrompt: 'You are an AI learning assistant for CityU LearnSphere, specifically designed to provide learning and research support for faculty and students at City University of Hong Kong. Please respond in English and incorporate Hong Kong culture and CityU characteristics.'
            },
            zh: {
                subtitle: 'AIé©±åŠ¨çš„ä¸ªäººçŸ¥è¯†ç®¡ç†ä¸ç§‘ç ”åä½œå¹³å°',
                connected: 'å·²è¿æ¥',
                notConnected: 'æœªè¿æ¥',
                notTested: 'æœªæµ‹è¯•',
                notConfigured: 'æœªé…ç½®',
                apiConnected: 'APIå·²è¿æ¥',
                apiNotTested: 'APIæœªæµ‹è¯•',
                apiNotConfigured: 'APIæœªé…ç½®',
                enterQuestion: 'è¾“å…¥æ‚¨çš„é—®é¢˜...',
                configureFirst: 'è¯·å…ˆé…ç½®API Key...',
                testing: 'æµ‹è¯•ä¸­...',
                testConnection: 'æµ‹è¯•è¿æ¥',
                send: 'å‘é€',
                thinking: 'æ­£åœ¨æ€è€ƒä¸­...',
                you: 'æ‚¨ï¼š',
                deepseekAI: 'DeepSeek AIï¼š',
                pleaseEnterApiKey: 'è¯·å…ˆè¾“å…¥API Key',
                apiConnectionSuccessful: 'APIè¿æ¥æˆåŠŸï¼',
                apiConnectionFailed: 'APIè¿æ¥å¤±è´¥ï¼š',
                checkApiKey: 'è¯·æ£€æŸ¥API Keyå’Œç½‘ç»œè¿æ¥ã€‚',
                pleaseConfigureApiKey: 'è¯·å…ˆåœ¨"APIé…ç½®"é¡µé¢è®¾ç½®æ‚¨çš„DeepSeek API Key',
                aiAnalyzing: 'AIæ­£åœ¨åˆ†ææ‚¨çš„å­¦ä¹ éœ€æ±‚ï¼Œæ¨èç›¸å…³æ–‡æ¡£...\n\n(å®é™…åº”ç”¨ä¸­ä¼šè°ƒç”¨DeepSeek APIç”Ÿæˆä¸ªæ€§åŒ–æ–‡æ¡£å»ºè®®)',
                aiProjectAdvice: 'AIé¡¹ç›®å»ºè®®ï¼š\n\nåŸºäºå½“å‰è¿›åº¦ï¼Œå»ºè®®æ‚¨ï¼š\n1. å®Œå–„æ•°æ®æ”¶é›†æ–¹æ¡ˆ\n2. åŠ å¼ºå›¢é˜Ÿåä½œ\n3. å…³æ³¨æœ€æ–°ç ”ç©¶åŠ¨æ€\n\n(å®é™…åº”ç”¨ä¸­ä¼šè°ƒç”¨DeepSeek API)',
                aiLiteratureRecommendations: 'AIæ–‡çŒ®æ¨èï¼š\n\næ ¹æ®æ‚¨çš„ç ”ç©¶æ–¹å‘ï¼Œæ¨èä»¥ä¸‹æ–‡çŒ®ï¼š\nâ€¢ "AI in Urban Planning" (2024)\nâ€¢ "Smart City Technologies" (2024)\n\n(å®é™…åº”ç”¨ä¸­ä¼šè°ƒç”¨DeepSeek API)',
                aiCampusTour: 'AIæ ¡å›­å¯¼è§ˆï¼š\n\næ¬¢è¿æ¥åˆ°é¦™æ¸¯åŸå¸‚å¤§å­¦ï¼è®©æˆ‘ä¸ºæ‚¨ä»‹ç»ï¼š\n\nğŸ¢ é‚µé€¸å¤«åˆ›æ„åª’ä½“ä¸­å¿ƒæ˜¯æˆ‘ä»¬çš„æ ‡å¿—æ€§å»ºç­‘...\nğŸ“š å›¾ä¹¦é¦†æ‹¥æœ‰ä¸°å¯Œçš„å­¦æœ¯èµ„æº...\n\n(å®é™…åº”ç”¨ä¸­ä¼šè°ƒç”¨DeepSeek APIç”Ÿæˆè¯¦ç»†ä»‹ç»)',
                enterDocumentTitle: 'è¯·è¾“å…¥æ–‡æ¡£æ ‡é¢˜ï¼š',
                documentCreated: 'åˆ›å»ºæ–‡æ¡£"{title}"æˆåŠŸï¼',
                openingDocument: 'æ‰“å¼€æ–‡æ¡£"{title}" - å®é™…åº”ç”¨ä¸­ä¼šæ˜¾ç¤ºMarkdownç¼–è¾‘å™¨',
                systemPrompt: 'ä½ æ˜¯CityU LearnSphereçš„AIå­¦ä¹ åŠ©æ‰‹ï¼Œä¸“é—¨ä¸ºé¦™æ¸¯åŸå¸‚å¤§å­¦çš„å¸ˆç”Ÿæä¾›å­¦ä¹ å’Œç§‘ç ”æ”¯æŒã€‚è¯·ç”¨ä¸­æ–‡å›ç­”ï¼Œå¹¶ç»“åˆé¦™æ¸¯æ–‡åŒ–å’ŒCityUçš„ç‰¹è‰²ã€‚'
            }
        };

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadApiConfig();
            updateApiStatus();
            setLanguage(currentLanguage);
        });

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
        }

        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'zh' : 'en';
            localStorage.setItem('language', currentLanguage);
            setLanguage(currentLanguage);
        }

        function setLanguage(lang) {
            // Handle all text elements with data attributes
            const elements = document.querySelectorAll('[data-en][data-zh]');
            elements.forEach(element => {
                const enText = element.getAttribute('data-en');
                const zhText = element.getAttribute('data-zh');
                
                if (enText && zhText) {
                    if (element.classList.contains('feature-desc') || element.classList.contains('culture-content')) {
                        // Use innerHTML for elements that contain HTML
                        element.innerHTML = lang === 'en' ? enText : zhText;
                    } else {
                        // Use textContent for regular text elements
                        element.textContent = lang === 'en' ? enText : zhText;
                    }
                }
            });

            // Handle placeholders
            const placeholderElements = document.querySelectorAll('[data-placeholder-en][data-placeholder-zh]');
            placeholderElements.forEach(element => {
                if (lang === 'en') {
                    element.placeholder = element.getAttribute('data-placeholder-en');
                } else {
                    element.placeholder = element.getAttribute('data-placeholder-zh');
                }
            });

            // Handle select options
            const selectOptions = document.querySelectorAll('option[data-en][data-zh]');
            selectOptions.forEach(option => {
                if (lang === 'en') {
                    option.textContent = option.getAttribute('data-en');
                } else {
                    option.textContent = option.getAttribute('data-zh');
                }
            });

            // Update subtitle
            document.getElementById('subtitle').textContent = translations[lang].subtitle;
            
            // Update API status
            updateApiStatus();
            
            // Update language button text
            const langButton = document.querySelector('.lang-switch');
            if (langButton) {
                langButton.textContent = lang === 'en' ? 'ä¸­æ–‡' : 'English';
            }
        }

        // API configuration functions
        function loadApiConfig() {
            if (apiKey) {
                document.getElementById('apiKey').value = apiKey;
            }
            document.getElementById('apiBaseUrl').value = apiBaseUrl;
            document.getElementById('modelSelect').value = selectedModel;
        }

        function saveApiConfig() {
            apiKey = document.getElementById('apiKey').value.trim();
            apiBaseUrl = document.getElementById('apiBaseUrl').value.trim();
            selectedModel = document.getElementById('modelSelect').value;
            
            localStorage.setItem('deepseek_api_key', apiKey);
            localStorage.setItem('deepseek_base_url', apiBaseUrl);
            localStorage.setItem('deepseek_model', selectedModel);
        }

        function updateApiStatus() {
            const statusElement = document.getElementById('apiStatus');
            const chatStatusElement = document.getElementById('chatApiStatus');
            const t = translations[currentLanguage];
            
            if (apiKey && isApiConnected) {
                statusElement.className = 'api-status connected';
                statusElement.textContent = t.connected;
                chatStatusElement.className = 'api-status connected';
                chatStatusElement.textContent = t.apiConnected;
                document.getElementById('chatInput').placeholder = t.enterQuestion;
            } else if (apiKey) {
                statusElement.className = 'api-status disconnected';
                statusElement.textContent = t.notTested;
                chatStatusElement.className = 'api-status disconnected';
                chatStatusElement.textContent = t.apiNotTested;
            } else {
                statusElement.className = 'api-status disconnected';
                statusElement.textContent = t.notConfigured;
                chatStatusElement.className = 'api-status disconnected';
                chatStatusElement.textContent = t.apiNotConfigured;
                document.getElementById('chatInput').placeholder = t.configureFirst;
            }
        }

        async function testApiConnection() {
            saveApiConfig();
            const t = translations[currentLanguage];
            
            if (!apiKey) {
                alert(t.pleaseEnterApiKey);
                return;
            }

            const button = event.target;
            button.textContent = t.testing;
            button.disabled = true;

            try {
                const response = await fetch(`${apiBaseUrl}/chat/completions`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: selectedModel,
                        messages: [
                            {
                                role: 'user',
                                content: currentLanguage === 'en' ? 'Hello, please briefly introduce yourself.' : 'ä½ å¥½ï¼Œè¯·ç®€å•ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±ã€‚'
                            }
                        ],
                        max_tokens: 100
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    isApiConnected = true;
                    updateApiStatus();
                    alert(t.apiConnectionSuccessful + '\n\n' + data.choices[0].message.content);
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                isApiConnected = false;
                updateApiStatus();
                alert(t.apiConnectionFailed + '\n' + error.message + '\n\n' + t.checkApiKey);
            } finally {
                button.textContent = t.testConnection;
                button.disabled = false;
            }
        }

        // AI chat functionality
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            const t = translations[currentLanguage];
            
            if (!message) return;
            
            if (!apiKey) {
                alert(t.pleaseConfigureApiKey);
                return;
            }

            const chatMessages = document.getElementById('chatMessages');
            
            // Add user message
            const userMsg = document.createElement('div');
            userMsg.className = 'message user';
            userMsg.innerHTML = `<strong>${t.you}</strong>${message}`;
            chatMessages.appendChild(userMsg);
            
            // Add loading message
            const loadingMsg = document.createElement('div');
            loadingMsg.className = 'message ai';
            loadingMsg.innerHTML = `<strong>${t.deepseekAI}</strong>${t.thinking}`;
            chatMessages.appendChild(loadingMsg);
            
            input.value = '';
            chatMessages.scrollTop = chatMessages.scrollHeight;

            try {
                const response = await fetch(`${apiBaseUrl}/chat/completions`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: selectedModel,
                        messages: [
                            {
                                role: 'system',
                                content: t.systemPrompt
                            },
                            {
                                role: 'user',
                                content: message
                            }
                        ],
                        max_tokens: 1000,
                        temperature: 0.7
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    loadingMsg.innerHTML = `<strong>${t.deepseekAI}</strong>${data.choices[0].message.content}`;
                } else {
                    throw new Error(`API call failed: ${response.status}`);
                }
            } catch (error) {
                loadingMsg.innerHTML = `<strong>${t.deepseekAI}</strong>Sorry, I encountered an issue: ${error.message}. Please check your network connection or API configuration.`;
            }
            
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') sendMessage();
        }

        // Other AI assistance functions
        async function aiSuggestDoc() {
            const t = translations[currentLanguage];
            if (!apiKey) {
                alert(t.pleaseConfigureApiKey);
                return;
            }
            alert(t.aiAnalyzing);
        }

        async function getAIProjectAdvice() {
            const t = translations[currentLanguage];
            if (!apiKey) {
                alert(t.pleaseConfigureApiKey);
                return;
            }
            alert(t.aiProjectAdvice);
        }

        async function getAILiteratureAdvice() {
            const t = translations[currentLanguage];
            if (!apiKey) {
                alert(t.pleaseConfigureApiKey);
                return;
            }
            alert(t.aiLiteratureRecommendations);
        }

        async function getAICampusTour() {
            const t = translations[currentLanguage];
            if (!apiKey) {
                alert(t.pleaseConfigureApiKey);
                return;
            }
            alert(t.aiCampusTour);
        }

        function createNewDoc() {
            const t = translations[currentLanguage];
            const title = prompt(t.enterDocumentTitle);
            if (title) alert(t.documentCreated.replace('{title}', title));
        }

        function openDocument(docTitle) {
            const t = translations[currentLanguage];
            alert(t.openingDocument.replace('{title}', docTitle));
        }
    </script>
</body>
</html>